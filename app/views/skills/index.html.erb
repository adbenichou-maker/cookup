
<div class="container-fluid p-3" style="background-color: #F7EEDB; min-height: 100vh;">


  <% if @skill_levels %>
    <header class="text-center mb-5 pt-3">
      <h1 class="display-4 fw-bold mb-3" style="color: #4A4A4A;">
        On What Level Are You? ðŸ”ª
      </h1>
      <p class="lead" style="color: #C9815B;">
        Select your current skill level to see suggested techniques.
      </p>
    </header>
    <div class="row justify-content-center mb-5">
      <% @skill_levels.each do |level| %>
        <div class="col-12 col-sm-8 col-md-6 col-lg-4 mb-4">

          <% card_bg = level == "beginner" ? "#8BAA7B" : (level == "intermediate" ? "#F2C94C" : "#C9815B") %>
          <% text_color = level == "intermediate" ? "#4A4A4A" : "#F7EEDB" %>

          <%= link_to skills_path(level: level),
              class: "list-group-item list-group-item-action p-0 border-0 rounded-4 shadow-lg",
              style: "background-color: transparent; text-decoration: none;" do %>

            <div class="card rounded-4 border-0 text-center p-3"
                style="background-color: <%= card_bg %>; color: <%= text_color %>;">
              <div class="card-body">
                <h2 class="h3 card-title fw-bolder mb-0">
                  <%= level.humanize %>
                </h2>
                <small class="text-white opacity-75">
                  <% if level == "beginner" %>Basic techniques for new cooks<% end %>
                  <% if level == "intermediate" %>Foundational skills and classic methods<% end %>
                  <% if level == "expert" %>Advanced execution and timing<% end %>
                </small>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>

  <%# ========================================================================= %>
  <%# 2. FILTERED SKILLS LIST (No Change Needed in this block's structure) %>
  <%# ========================================================================= %>
  <% elsif @skills %>
    <header class="text-center mb-4 pt-3">
      <h1 class="display-5 fw-bold mb-2" style="color: #4A4A4A;">
        Skills: <%= @selected_level %>
      </h1>
      <%= link_to "â† Back to Skill Levels", skills_path,
          class: "btn btn-sm text-decoration-none",
          style: "color: #C9815B;" %>
      <hr style="border-color: #8BAA7B;">
    </header>

    <div class="row justify-content-center mb-5">
      <div class="col-12 col-md-8">
        <ul class="list-unstyled">
          <% @skills.each do |skill| %>
            <li class="mb-3">
              <%= link_to skill_path(skill),
                  class: "d-block text-decoration-none p-3 rounded-3 shadow-sm",
                  style: "background-color: rgba(255, 255, 255, 0.9); border-left: 5px solid #8BAA7B;" do %>

                <h5 class="fw-bold mb-1" style="color: #4A4A4A;">
                  <%= skill.title %>
                </h5>
                <p class="mb-0 text-truncate" style="color: #C9815B; font-size: 0.9em;">
                  <%= skill.description %>
                </p>
              <% end %>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>
</div>
