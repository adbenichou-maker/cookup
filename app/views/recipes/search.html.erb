<div class="search-page-container" data-controller="filter">
  <!-- Title -->
  <h1 class="search-title">What do you want to cook?</h1>

  <!-- Search Bar -->
  <div class="search-bar-wrapper">
    <%= form_with url: recipes_search_path, method: :get, local: true, class: "search-form" do |f| %>
      <%= f.text_field :query, placeholder: "Search", class: "search-input", value: @query %>
      <%= f.submit "Search", class: "search-submit-btn" %>
    <% end %>

    <button data-action="click->filter#toggle" class="filter-btn">Filters</button>
  </div>

  <!-- Filter -->
  <div data-filter-target="panel" class="filter-panel hidden">

    <%= form_with url: recipes_search_path, method: :get, local: true do |f| %>

      <h4>Difficulty</h4>
      <%= f.select :level, [["Easy", 1], ["Medium", 2], ["Hard", 3]], include_blank: true %>

      <h4>Max Time</h4>
      <%= f.number_field :time, placeholder: "Minutes" %>

      <%= f.submit "Apply Filters", class: "search-submit-btn" %>
    <% end %>
  </div>


  <!-- Results or saved recipes -->
  <% @recipes.each do |recipe| %>
    <%= link_to recipe_path(recipe), class: "recipe-card" do %>
      <div class="recipe-image-placeholder"></div>

      <div class="recipe-text">
        <h3><%= recipe.title %></h3>
        <p><%= recipe.description %></p>

        <div class="rating">
          ★★★★★ <!-- Temp -->
          <small><%= recipe.reviews.count %> Reviews</small>
        </div>
      </div>

      <div class="recipe-add-btn">+</div>
    <% end %>
  <% end %>

</div>
