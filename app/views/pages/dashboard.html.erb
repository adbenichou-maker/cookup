<div class="home-container">

  <!-- Welcome -->
  <div class="home-header">
    <div>
      <h1 style="text-align: left; margin-bottom: 10px"> Hi <%= current_user.username || current_user.email.split("@").first %>,</h1>
      <h2>What are we cooking?</h2>
    </div>

    <!-- Profile Logout (Temp) -->
    <%= link_to profile_path do %>
      <div>
        <%= image_tag "santi.png", alt: "profile picture image", class: "profile-picture-placeholder" %>
      </div>
    <% end %>
  </div>

  <!-- Progress Bar -->
  <div class="profile-section">
    <div class="profile-level-text">
      <div style="font-weight: 900; font-size: large;">
        Level <%= current_user.level %>
      </div>

      <div>
        <%= current_user.xp %> / <%= current_user.xp_required_for_current_level %> XP
      </div>
    </div>


    <div class="progress-wrapper">
      <div class="progress-bar-fill" style="width: <%= current_user.progress_percentage %>%;">
      </div>
    </div>
  </div>


  <!-- Cards -->
  <div class="feature-cards">

    <%= link_to skills_path, class: "feature-card" do %>
      <div class="circle-icon">
        <i class="fa-solid fa-kitchen-set overlay-icon"></i>
      </div>
      <p>Chef Skills</p>
    <% end %>

    <%= link_to recipes_search_path, class: "feature-card" do %>
      <div class="circle-icon">
        <i class="fa-solid fa-book overlay-icon"></i>
      </div>
      <p>All Recipes</p>
    <% end %>

    <%= link_to new_chat_path, class: "feature-card" do %>
      <div class="circle-icon">
        <i class="fa-solid fa-comments overlay-icon"></i>
      </div>
      <p style="margin-bottom: 0px" >AI</p>
      <p>Cook</p>
    <% end %>

  </div>

  <!-- Saved Recipes -->

    <%= link_to "/cookbook", class: "saved" do %>
      Saved Recipes
    <% end %>

  <!-- Recipe sug -->
  <% if @saved_recipes.any? %>
    <% @saved_recipes.each do |recipe| %>
      <%= link_to recipe_path(recipe), class: "content-card" do %>
        <div class="content-image-placeholder"></div>

        <div>
          <h3><%= recipe.title %></h3>
          <p><%= truncate(recipe.description, length: 80) %></p>
        </div>
      <% end %>
    <% end %>
  <% else %>
    <p>You havenâ€™t saved any recipes yet.</p>
  <% end %>

</div>
